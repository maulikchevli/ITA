{% extends "base.html" %}

{% block title %}{{ user["username"] }} - profile{% endblock %}

{% block header %}
{% endblock %}

{% block main %}
<div class="container">
	<h1>{{ user["firstName"] }} {{ user["lastName"] }}</h1>
	
	<hr>
	<dl class="row">
		<dt class="col-sm-3">Username</dt>
		<dd class="col-sm-9">{{ user["username"] }}</dd>

		<dt class="col-sm-3">Birthdate</dt>
		<dd class="col-sm-9">{{ user["birthDate"] }}</dd>

		<dt class="col-sm-3">Bio</dt>
		<dd class="col-sm-9">{{ user["bio"] }}</dd>
	</dl>
</div>

<hr>

<div class="container">
	<h3>Posts</h3>

	{% for post in posts %}
	<div class="post">
		<p class="row">
			<h3 class="col-sm-9">
				<a href="{{ url_for('blog', pid=post['pid']) }}">{{ post["title"] }}</a>
			</h3>

			{% if session['username'] == post['username'] %}
			<form method="POST" action="{{ url_for('delete', pid=post['pid']) }}" class="offset-md-9">
				<input type="submit" value="Delete" class="btn btn-outline-danger">
			</form>
			{% endif %}
		</p>

		<p>By @<a href="{{ url_for('profile', username=post['username']) }}">{{ post["username"] }}</a></p>

		<div class="row">
			<img src="{{ url_for('static', filename='uploads/'+post['username']+'/'+post['filename']) }}"
			     class="img-fluid">
		</div>

		<div class="tags">
			<textarea class="form-control" rows="3" disabled>{{ post["tags"] }}</textarea>
		</div>
	</div>
	{% endfor %}
</div>

{% endblock %}

{% block footer %}
{% endblock %}

